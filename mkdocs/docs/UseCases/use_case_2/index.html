



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation of the Water Management Data Model (WaMDaM)">
      
      
        <link rel="canonical" href="http://docs.wamdam.org/usecases/use_case_2/">
      
      
        <meta name="author" content="Adel M. Abdallah">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.1.0">
    
    
      
        <title>Use case 2 - WaMDaM Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-3368aa6b74.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-95ad5566f9.palette.css">
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    
      <body data-md-color-primary="blue" data-md-color-accent="indigo">
    
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://docs.wamdam.org" title="WaMDaM Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon">home</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                WaMDaM Docs
              </span>
              <span class="md-header-nav__topic">
                Use case 2
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/WamdamProject/WaMDaM-software-ecosystem/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      WaMDaM-software-ecosystem
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../Getting_started/Download/" title="Getting Started" class="md-tabs__link">
          Getting Started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../Data_Sources/" title="Use cases" class="md-tabs__link md-tabs__link--active">
          Use cases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../DesignDocumentation/Desing_Req/" title="Design documentation" class="md-tabs__link">
          Design documentation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../About/" title="About" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">home</i>
      
    </span>
    WaMDaM Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/WamdamProject/WaMDaM-software-ecosystem/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      WaMDaM-software-ecosystem
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Why_WaMDaM/" title="Why WaMDaM?" class="md-nav__link">
      Why WaMDaM?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Rationale/" title="Rationale" class="md-nav__link">
      Rationale
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Team/" title="The Team" class="md-nav__link">
      The Team
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../OpenSource/" title="Open Source" class="md-nav__link">
      Open Source
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Limitations/" title="Limitations" class="md-nav__link">
      Limitations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../SponsorsCredit/" title="Sponsors and Credit" class="md-nav__link">
      Sponsors and Credit
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../License/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Getting_started/Download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Getting_started/PrepareData/" title="Prepare Data" class="md-nav__link">
      Prepare Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Getting_started/Use_Wizard/" title="Use Wizard" class="md-nav__link">
      Use Wizard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Getting_started/Best_practices/" title="Best Practices" class="md-nav__link">
      Best Practices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Getting_started/controlled_vocabularies/" title="Controlled Vocabulary" class="md-nav__link">
      Controlled Vocabulary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Use cases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Use cases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Data_Sources/" title="Data Sources" class="md-nav__link">
      Data Sources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use_case_1/" title="Use case 1" class="md-nav__link">
      Use case 1
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Use case 2
      </label>
    
    <a href="./" title="Use case 2" class="md-nav__link md-nav__link--active">
      Use case 2
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem" title="Problem" class="md-nav__link">
    Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution" title="Solution" class="md-nav__link">
    Solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripts" title="Scripts" class="md-nav__link">
    Scripts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#next" title="Next" class="md-nav__link">
    Next
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use_case_3/" title="Use case 3" class="md-nav__link">
      Use case 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use_case_4/" title="Use case 4" class="md-nav__link">
      Use case 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use_case_5/" title="Use case 5" class="md-nav__link">
      Use case 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use_case_6/" title="Use case 6" class="md-nav__link">
      Use case 6
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Design documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Design documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/Desing_Req/" title="Design Requirment" class="md-nav__link">
      Design Requirment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/info_model/" title="Design documentation" class="md-nav__link">
      Design documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/info_model/" title="Information Model" class="md-nav__link">
      Information Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/logical_Model/" title="Logical Model Schema" class="md-nav__link">
      Logical Model Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/Physical_Model/" title="Physical Model Implementations" class="md-nav__link">
      Physical Model Implementations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../DesignDocumentation/ControlledVocabulary/" title="Controlled Vocabulary" class="md-nav__link">
      Controlled Vocabulary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../About/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem" title="Problem" class="md-nav__link">
    Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solution" title="Solution" class="md-nav__link">
    Solution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripts" title="Scripts" class="md-nav__link">
    Scripts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#next" title="Next" class="md-nav__link">
    Next
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/WamdamProject/WaMDaM-software-ecosystem/tree/master/mkdocs/Edit_MD_Files/usecases/use_case_2.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="use-case-2">Use case 2<a class="headerlink" href="#use-case-2" title="Permanent link">&para;</a></h1>
<p><strong>Identify and compare time series and seasonal discharge data across data sources</strong> </p>
<p><strong>Example</strong> <br />
What is the discharge at the node “below Stewart Dam” in Idaho?   </p>
<h3 id="problem">Problem<a class="headerlink" href="#problem" title="Permanent link">&para;</a></h3>
<p>Water supply data for systems models whether in streams or storage systems are often organized in separate and different files and require specific methods to identify and relate similar ones. </p>
<h3 id="solution">Solution<a class="headerlink" href="#solution" title="Permanent link">&para;</a></h3>
<p>In this example, we identify discharge data “below Stewart Dam” in Idaho which marks the legal beginning of the Lower Bear River Division according to the Bear River Compact and has data from many sources (Bear River Commission, 1980). Here we use the controlled node instance name of “USGS 10046500 BEAR RIVER BL STEWART DAM NR MONTPELIER, ID” and the controlled attribute name of “Flow” to identify all data that exist for it in the WaMDaM database. The query returns time series and seasonal data types from five different datasets which all loaded in WaMDaM database earlier. They are reported by the states of Idaho, Utah, USGS, Bear River Commission, and the Bear River Systems Dynamics model. Each data source has its own native term for the node instance and the attribute (Table C in the Appendix).   </p>
<p>We first discuss the time series data then we compare how well the seasonal monthly data represent flows in the site. For time series, the datasets have different aggregation statistics (e.g., cumulative monthly, average monthly or daily) and intervals and time extent. They also come in calendar and water year types. Besides the different native terms, some of them use terms that have different conceptual meaning like using the “Storage/delivered volume” in the Utah to describe the discharge. The Bear River commission only reports data from Mid-April to end of September. So April is excluded here to compare full month values.    </p>
<p>Many of these important properties of each time series were not reported along with data values except the USGS dataset. Learning about and reporting them into WaMDaM was a laborious task that involved emailing and calling the potentially in-charge people about the metadata. Now, we use SQL to aggregate and convert all the time series data with some overlap given their different unit, year type, and aggregation statistic and aggregation interval unit (Figure 6-A). Users typically have to do these data manipulations for each study area. When they use WaMDaM, they now can reuse them for many sources. Here, the data from multiple sources complement each other, the Utah Division of Water Resources (UDWR) has the longest record and continues with other sources after the USGS sites ends in 1993. From personal communications with the Idaho Department of Water Resources, we learned that the PacifiCorp power company took over the Stewart gage after the USGS discontinued it. PacifiCorp sends the data to the Bear River Commission, Utah, and Idaho. The UDWR mentioned that the PacifiCorp measured flow before the USGS.   </p>
<p>Many of these important properties of each time series were not reported along with data values except the USGS dataset. Learning about and reporting them into WaMDaM was a laborious task that involved emailing and calling the potentially in-charge people about the metadata. Now, we use SQL to aggregate and convert all the time series data with some overlap given their different unit, year type, and aggregation statistic and aggregation interval unit (Figure 6-A). Users typically have to do these data manipulations for each study area. When they use WaMDaM, they now can reuse them for many sources. Here, the data from multiple sources complement each other, the Utah Division of Water Resources (UDWR) has the longest record and continues with other sources after the USGS sites ends in 1993. From personal communications with the Idaho Department of Water Resources, we learned that the PacifiCorp power company took over the Stewart gage after the USGS discontinued it. PacifiCorp sends the data to the Bear River Commission, Utah, and Idaho. The UDWR mentioned that the PacifiCorp measured flow before the USGS.   </p>
<p>Given the similarities, differences, and overlap in data as in Figure 6, a simple question here is which dataset to use as an input for water supply in a potential model. Here we discuss the differences among the datasets and offer a potential suggestion on which one to use. First, the years between 1942 and 1993 are overlapped and reported data average monthly data for the USGS and UDWR datasets. Both of them found to have the same average and standard deviation to one decimal point of 1035.8 and 2927.8 acre-feet of cumulative acre-feet per month. Note that the UDWR is orginally reported as monthly acre-feet where the USGS is reported as daily cfs. Given the accurcy of the UDWR data in comparion with the USGS in the overlappped period, we are confendent to use the UDWR for the period prior the USGS recored back to 1920.    </p>
<p>On the other hand, there are three datasets with time series data for the period after 1993 when the USGS period ends. The three overlapping data sources seems to report the same values until their end in 2015 except the descrepency in the years 1996-1997 (Figure 1-B). Our contact at the UDWR mentioned that they use correlation where data did not exist and they are aware of some resonlable discrepancy. Our contact at the IDWR mentioned that their daily data values between October 1995 and April 1996 seemed to be in interpolated. It is unlcear what happen that year and why that is the case but the expert suggested flagging the data for potneial errors. She also suggested that small discrepancies between the three data sourcs are likely differences between preliminary and final gage data from PacifiCorp. She also pointed out that the Idaho dataset is a part of the water rights accounting program and is a tool used to help watermasters regulate the river in priority according to the water rights. She mentioned that because irrigation regulation doe not occur in that October to April time frame, it appears that the winter data was not necessarily reviewed properly. Note that out contact was not working at the IDWR during that time period. This example data descripnacy issue underscores the importance of contexual metadata that can be used to interpret data values over time. We suggest using the UDWR dataset given the confidence in its accuracy previously with the USGS dataset. The integration of the four datasets in WaMDaM is proved valuable to compare them and make an informed decision on which one to use as input to a model.    </p>
<h2 id="scripts">Scripts<a class="headerlink" href="#scripts" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Use Case</th>
<th align="center">Query</th>
<th align="right">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Identify TimeSeries Seasonal Dual data</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/4Queries_SQL/2.1IdentifyTimeSeriesSeasonal_Dual.sql">Query</a></td>
<td align="right"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/5Results_CSV/2.1IdentifyTimeSeriesSeasonal.csv">Result</a> csv</td>
</tr>
<tr>
<td>Identify aggregate TimeSeries Values</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/4Queries_SQL/2.2Identify_aggregate_TimeSeriesValues.sql">Query</a></td>
<td align="right"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/5Results_CSV/2.2Identify_aggregate_TimeSeriesValues.csv">Result</a> csv</td>
</tr>
<tr>
<td>Identify Seasonal Values</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/4Queries_SQL/2.3Identify_SeasonalValues.sql">Query</a></td>
<td align="right"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/5Results_CSV/2.3Identify_SeasonalValues.csv">Result</a> csv</td>
</tr>
</tbody>
</table>
<p><strong>Python 2.7 script to plot figures of use case</strong><br />
To run the Python script, you need to be connected to the internet. The script reads its data from the csv files hosted on GitHub.</p>
<table>
<thead>
<tr>
<th>Use Case figure</th>
<th align="center">Python Script</th>
<th align="right">Interactive figure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Figure a</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/6Figures_Python/2.2Identify_aggregate_TimeSeriesValues.py">script</a></td>
<td align="right"><a href="http://htmlpreview.github.io/?https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/7Figures_HTML/2.2Identify_aggregate_TimeSeriesValues.html">Figure</a></td>
</tr>
<tr>
<td>Figure b</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/6Figures_Python/2.2bIdentify_aggregate_TimeSeriesValues.py">script</a></td>
<td align="right"><a href="http://htmlpreview.github.io/?https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/7Figures_HTML/2.2bIdentify_aggregate_TimeSeriesValues.html">Figure</a></td>
</tr>
</tbody>
</table>
<p><img alt="" src="../../UseCases/images/UseCase2a.png" /> 
Figure 1: [A] Compiled time series data of flow at Below Stewart Dam site in Idaho as reported by four different agencies at overlapping times. [B] A snapshot of [A] that shows the similarity and discrepancy among three sources later 1994 to 2000. </p>
<p>For seasonal data, the BRSDM model used three scenarios for monthly flow (dry, normal, and wet) for the same site (Figure 7-A). Most of the months across the three scenarios have largely similar values except June and July as they represent the peak flow. We offer this simple comparison example that intends to improve how the BRSDM model could represent monthly peak flows given the extended flow recorded that possibly was not available to the model developers at the time. We compare how likely the dry and wet flow threshold for June as defined in the seasonal parameter to be exceeded with drier or wetter years based on the 92 years of record flow data in the UDWR dataset that spans 1923 to 2015. Using the cumulative distribution function for the flow data in June, there is 48% chance the flow will be lower than “dry” year threshold of 666 acre-ft per month with a magnitude down to 10 times lower than this max value (in June 1977 of 62 acre-ft per month). There also 3% chance the flow will be higher than the “wet” threshold of 17,181 acre-ft per month with a magnitude up to 7 times this max value (June 1923 of 117,000 acre-ft per month) (Figure 2-B). We recognize that a different value or range of the threshold could be used to define what is dry or wet for comparisons. However, we just use the simple one above as an example of the type of comparisons that are enabled as many of both time series and seasonal data types are organized in WaMDaM. We note that the method to assign the seasonal monthly values for each scenarios was not documented in the model.   </p>
<p>Here we suggest three potential ways to improve the values of seasonal model that consider the above identified exceedance likelihood. First, keep it as is but report the percentile values as a limitation to it and the likely of exceeding it as dryer or wetter years to better inform the model results. Second, change the average dry, normal, wet values based on selected consistent percentiles. For example, select 10 percentile of dry, 50 percentile for normal, and 90 percentile for wet year. Third, add extreme condition scenarios like extreme dry of 1 percentile and extreme wet of 99 percentile. This comparison is just a one potential example that is enabled by organizing and then identifying both seasonal and time series data using one consistent method.</p>
<p><strong>Python 2.7 script to plot figures of use case</strong> <br />
To run the Python script, you need to be connected to the internet. The script reads its data from the csv files hosted on GitHub.  </p>
<table>
<thead>
<tr>
<th>Use Case figure</th>
<th align="center">Python Script</th>
<th align="right">Interactive figure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Figure A</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/6Figures_Python/2.3Identify_SeasonalValues.py">script</a></td>
<td align="right"><a href="http://htmlpreview.github.io/?https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/7Figures_HTML/2.3Identify_SeasonalValues.html">Figure A</a></td>
</tr>
<tr>
<td>Figure B</td>
<td align="center"><a href="https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/6Figures_Python/2.4_plotcdf.py">script</a></td>
<td align="right"><a href="http://htmlpreview.github.io/?https://github.com/WamdamProject/WaMDaM_UseCases/blob/master/UseCases_files/7Figures_HTML/2.4_plotcdf.html">Figure B</a></td>
</tr>
</tbody>
</table>
<p><img alt="" src="../../UseCases/images/UseCase2b.png" /> 
Figure 2: [A] Seasonal of average monthly flow data at Below Stewart Dam site (same site in Figure 6). Each month here applies to a wet, normal, and dry year categories irrespective of which calendar year. [B] A cumulative distribution of the all June flow data in the Utah UDWR dataset to evaluate how well the dry and wet years represent the historic record peak flows.  </p>
<p>Existing time series data management methods like the Observation Data Model can already organize the different time series data used here. WaMDaM here can organize and compare this time series data long with other types used in water management especially seasonal data. Documenting how seasonal data is derived through metadata is a practice that WaMDaM is designed to support. One additional aspect of WaMDaM that users could benefit from is the use of Boolean values that indicate binary or dual state of node or link instance. For example, searching for the “status” controlled attribute at the same site returns that this site as in the Idaho Dataset is reported as “active” or “inactive” in the USGS dataset.    </p>
<p>With this example to choose a controlled term for the instance name, we recognize that defining a specific and descriptive node or link instance name in a watershed, national, or worldwide could be challenging. This is because of the large number of infrastructure instances that could reach thousands or even millions. So there is a need for a robust method to name and organize a potentially growing controlled instance names. The method could benefit from the USGS convention of naming their gage stations that include the institution, site code, name and nearby town or and state. </p>
<h3 id="next">Next<a class="headerlink" href="#next" title="Permanent link">&para;</a></h3>
<p>This use case demonstrated organizing water supply data, the next use case demonstrates organizing and comparing water demand data from multiple sources. </p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../use_case_1/" title="Use case 1" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Use case 1
              </span>
            </div>
          </a>
        
        
          <a href="../use_case_3/" title="Use case 3" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Use case 3
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Adel M. Abdallah
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/amabdallah" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/adelmabdallah" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/adelmabdallah/" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-a5397a53ce.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>