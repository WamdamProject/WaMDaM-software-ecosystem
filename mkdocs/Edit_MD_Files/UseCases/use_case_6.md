# Use case 6

**Compare differences in network topology and data values between two model scenarios**  

**Example**   
What is the difference in input data between the two scenarios or the Bear River WEAP model?   

### Problem
Comparing differences and similarities in input data and network topology between scenarios of a model in a study area can be specific, manual, and cumbersome if it is not natively supported by a model or a dataset. Communicating differences in scenarios and how they relate with changes in results is fundamental to defining the scenario itself and what changes. 

### Solution   
Figure 10 earlier in Use Case 5 showed a visual comparison between the network topology in [A] and [B], within the same Master Network of “Bear River” and Dataset of “WEAP”. But how could we perform reproducible objective comparisons for large networks? We wrote a complex script in the WaMDaM Wizard to provide users with automatic and systematic detailed and statistical comparisons between scenarios of the same model and network in the database for network topology, metadata, and data values. The comparisons as discussed earlier in Section 4.2 is based on the Mapping and ScenarioMapping tables that only store unique values and reuses shared values.    

Here we provide the scenario comparison in two different models: WEAP and the BRSDM model (Table 5). In the shared column, the WEAP models have a small percentage of shared network instances, metadata, data values while the BRSDM Model scenarios have identical network and metadata but share about 80% of data values which leaves 10% unique values to each scenarios. This enabled comparison is very effective to first identify similarities and differences between scenarios input data. This capability does not exist in WEAP nor in the separate model Excel sheets for each BRSDM model scenario. In the BRSDM Model, the following attributes have data values being unique to each scenario. All of them are changes in flow data: “Historic Diversion outflow”, “Total Diversion flow”, “Total Irrigation Returns”, “Total Ungagged Reach Gains”, “Total Ungagged Reach Losses”, and “Average Monthly Streamflow”. An example of the change in Average Monthly Streamflow for “Node 12.04” which is Below Stewart Dam has already been presented in Figure 6-A as seasonal data. 


Although data storage size is often not a concern in water resources systems models, sharing common data and metadata between scenarios reduces the storage size because only unique values are stored. The storage savings happen in the tables of “Mapping”, “Instances”, “Connections”, “DataValuesMapper”, and any of the data values tables like time series and numeric values. We measure storage savings by the percentage reduction of the number of records between two scenarios in this table. The WEAP model scenarios have small fraction of shared data which translate to about 6% of savings in storage (56 less records to store). The BRSDM model scenarios completely share the network topology and metadata with changes only to data values which means here that 47% of savings records (1,865 less records to store). 

**Table 1**: Comparison statistical summary of unique and shared network topology, metadata and data values between two scenarios and models in the Bear River Watershed 
![](/UseCases/images/Scenario_comparison_summary.png) 

Table A10 in Appendix A summarizes the use cases, their results, and the incurred insight and benefit of using WaMDaM. In general, WaMDaM design enabled all the use cases because of i) consistency in the same structure (i.e., set of related tables) to organize object types, attributes, instances, and their data values for all the models and datasets and ii) allowing users to register the native terms of each with controlled vocabulary which enables linking equivalent terms across datasets together. Overall, results of use cases reveal inconsistences and similarities in datasets which can be further investigated with the help of metadata or incorporated in models as sensitivity analysis. WaMDaM enables a more readily and consistent method to compare and communicate similarities and differences between scenarios of models. 